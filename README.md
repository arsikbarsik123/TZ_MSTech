# MSTechApp — тестовое задание

Небольшое iOS-приложение, реализующее флоу из тестового задания:

1. Онбординг (1–2 экрана)
2. Экран Paywall с двумя видами подписки
3. Главный экран с контентом
4. Сохранение состояния подписки между запусками  
5. Демонстрация использования нейросети (ChatGPT) в процессе разработки

---

## Видео

- **Видео №1 — Демонстрация работы приложения**
  
https://github.com/user-attachments/assets/bd2a76b4-277e-4162-947f-68509978b7b7

- **Видео №2 — Работа с нейросетью (ChatGPT)**  

https://github.com/user-attachments/assets/9f8efb07-0b53-4379-b109-9579a15e8d94

---

## Функциональность

### 1. Онбординг

- Простой экран с приветствием и описанием приложения.
- Кнопка **«Продолжить»**, которая переводит пользователя к экрану Paywall.
- Онбординг показывается только до первого завершения.

### 2. Экран Paywall

- Две подписки:
  - **Месяц**
  - **Год** (со скидкой)
- Выбор подписки:
  - карточки растянуты на всю ширину и нажимаются по всей области,
  - выбранная подписка подсвечивается и помечается иконкой галочки.
- Кнопка **«Продолжить»**:
  - эмулирует покупку (реального биллинга нет),
  - сохраняет состояние «подписка активна».

### 3. Главный экран

- Простое содержимое (текст/контент) с сообщением об активной подписке.
- Отображается:
  - сразу после «покупки» на Paywall,
  - либо при следующем запуске, если подписка уже была «куплена».

### 4. Сохранение состояния подписки

- Используется `UserDefaults`.
- При запуске приложения:
  - если подписка активна → сразу показывается **Главный экран**;
  - если нет → запускается флоу **Онбординг → Paywall → Главный экран**.

---

## Архитектура

Приложение написано на **SwiftUI** с упрощённой архитектурой **MVVM + сервисы**.

### Основные слои

- **View**:
  - `MSTechView` — корневой контейнер, решает, какой экран показывать:
    - Onboarding → Paywall → Main.
  - `OnboardingView` — «тупой» экран с текстом и кнопкой, получает замыкание `onFinish`.
  - `PaywallView` — отображает список подписок и выбранный план, получает `onPurchase`.
  - `MainView` — главный экран с контентом.

- **ViewModel**:
  - `MSTechViewModel`:
    - `@Published var isSubscribed: Bool`
    - `@Published var didFinishOnboarding: Bool`
    - методы:
      - `completeOnboarding()` — отмечает прохождение онбординга;
      - `completedPurchase()` — сохраняет покупку и обновляет состояние UI.
    - под капотом работает с сервисом `SubscriptionStorage`.

- **Models**:
  - `SubscriptionPlan` / `Plan` — enum с вариантами подписки (месяц / год), заголовками и описаниями.

- **Services**:
  - `SubscriptionStorage`:
    - хранит флаг подписки в `UserDefaults`;
    - предоставляет свойство `isSubscribed` для чтения/записи (через протокол `SubscriptionStorageProtocol`).

Такой подход даёт простую и понятную структуру:

- бизнес-логика сосредоточена в `MSTechViewModel`,
- экраны максимально простые и переиспользуемые,
- хранение данных вынесено в отдельный слой.

---

## Технологии

- **Язык**: Swift
- **UI**: SwiftUI
- **Архитектура**: упрощённый MVVM + сервисы
- **Хранение данных**: `UserDefaults
- **Минимальная версия iOS**: 16+ (можно адаптировать под 15 при необходимости)
- **Swift Package Manager / сторонние библиотеки**: не используются

---

## Запуск проекта

1. Клонировать репозиторий:

   ```bash
   git clone https://github.com/arsikbarsik123/TZ_MSTech.git
   cd TZ_MSTech
